<!doctype html public "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<html>
<head>
<title>
 Overview
</title>
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script>
function asd() {
	
		parent.document.title="deployment.js Overview";
	
}
</script>
</head>
<body bgcolor="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> 	<font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top">
<em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<center>
	
	   <h2>deployment.js</h2>
	
</center>

	


<h4>Summary</h4>
<p>
	
		This is the main entry point
 <BR/><BR/><B>Version: </B>2.0
 <BR/><BR/><B>Author:</B> Ankit Rohatgi ankitrohatgi@hotmail.com<BR/>
	
</p>

<hr>



<!-- ========== METHOD SUMMARY =========== -->

	<a name="method_summary"><!-- --></a>
	<table border="1" cellpadding="3" cellspacing="0" width="100%">
		<tr bgcolor="#CCCCFF" class="TableHeadingColor">
			<td colspan=2>
				<font size="+2">
					<b>Method Summary</b>
				</font>
			</td>
		</tr>
	
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!addMouseEvent">addMouseEvent</a></b>(&lt;String&gt; mouseEv, &lt;function&gt; functionName, &lt;boolean&gt; tf)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Add a mouse event.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!autodetectCurves">autodetectCurves</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!binaryToImageData">binaryToImageData</a></b>(bwdata,imgd)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!boxPaint">boxPaint</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!boxPaintMousedown">boxPaintMousedown</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!boxPaintMousedrag">boxPaintMousedrag</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!boxPaintMouseup">boxPaintMouseup</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!closePopup">closePopup</a></b>(&lt;String&gt; popupid)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Hide a popup window.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!colorPicker">colorPicker</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!colorSelect">colorSelect</a></b>(imgd, mode, colorRGB, tol)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!colorSelectDiff">colorSelectDiff</a></b>(imgd, mode, colorRGB, tol, diff)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!copyUsingDifference">copyUsingDifference</a></b>(copyTo, copyFrom, diff)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!dropHandler">dropHandler</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!eraser">eraser</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!eraserMousedown">eraserMousedown</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!eraserMousedrag">eraserMousedrag</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!eraserMouseup">eraserMouseup</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!findDifference">findDifference</a></b>(d1,d2)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!init">init</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 This is the entry point and is executed when the page is loaded.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!loadImage">loadImage</a></b>(imgel)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!matrixInverse22">matrixInverse22</a></b>(A)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;Object</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!multiplyAB">multiplyAB</a></b>(A,r1,c1,B,r2,c2)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!penPaint">penPaint</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!penPaintMousedown">penPaintMousedown</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!penPaintMousedrag">penPaintMousedrag</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!penPaintMouseup">penPaintMouseup</a></b>(ev)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!pickColor">pickColor</a></b>(cmode)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!processingNote">processingNote</a></b>(&lt;boolean&gt; pmode)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Show a 'processing' note on the top right corner.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!putCanvasData">putCanvasData</a></b>(cImgData)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!redrawCanvas">redrawCanvas</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!reloadPlot">reloadPlot</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!removeAllMouseEvents">removeAllMouseEvents</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Clear the entire list of active mouse events.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!removeMouseEvent">removeMouseEvent</a></b>(&lt;String&gt; mouseEv, &lt;function&gt; functionName, &lt;boolean&gt; tf)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Remove a particular mouse event.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!saveCanvasImage">saveCanvasImage</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!saveData">saveData</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!setDefaultState">setDefaultState</a></b>()
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Reset canvas and zoom window to initial state.
		      </td>
		   </tr>
		
		   <tr bgcolor="white" class="TableRowColor">
		      <td align="right" valign="top" width="1%">
			 <font size="-1">
			    <code>static&nbsp;void</code>
			 </font>
		      </td>
		      <td>
			 <code>
			    <b>
			       <a href="GLOBALS.html#!s!showPopup">showPopup</a></b>(&lt;String&gt; popupid)
			 </code>
			 <br>
			 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			 Display a popup window.
		      </td>
		   </tr>
		
	
	</table>
    <p>

<!-- ========== END METHOD SUMMARY =========== -->


        <pre class="sourceview"><span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains axes alignment functions */</span>

var axesPicked; <span class="comment">// axes picked?</span>

var xmin;
var xmax;
var ymin;
var ymax;
var xlog;
var ylog;

var axesN; <span class="comment">// number of axes points picked</span>
var axesNmax; <span class="comment">// total points needed to align axes.</span>
var xyAxes; <span class="comment">// axes data</span>

var plotType; <span class="comment">// Options: 'XY', 'bar', 'polar', 'ternary'</span>



<span class="reserved">function</span> setAxes(ax_mode) 
{

	plotType = ax_mode;
	clearSidebar();
	removeAllMouseEvents();
	addMouseEvent(<span class="literal">'click'</span>,pickCorners,true);
	axesN = 0;
	xyAxes = [];

	<span class="reserved">if</span> ((plotType == <span class="literal">'XY'</span>)||(plotType == <span class="literal">'bar'</span>))
	{
		axesNmax = 4;
		showPopup(<span class="literal">'xyAxesInfo'</span>);
	}
	<span class="reserved">else</span> <span class="reserved">if</span> (plotType == <span class="literal">'polar'</span>)
	{
		axesNmax = 4;
		showPopup(<span class="literal">'polarAxesInfo'</span>);
	}
	<span class="reserved">else</span> <span class="reserved">if</span> (plotType == <span class="literal">'ternary'</span>)
	{
		axesNmax = 3;
		showPopup(<span class="literal">'ternaryAxesInfo'</span>);
	}
}

<span class="reserved">function</span> pickCorners(ev)
{
	<span class="reserved">if</span> (axesN &lt; axesNmax)
	{
		xi = ev.layerX;
		yi = ev.layerY;
		xyAxes[axesN] = new Array();
		xyAxes[axesN][0] = parseFloat(xi);
		xyAxes[axesN][1] = parseFloat(yi);
		axesN = axesN + 1;	

		ctx.beginPath();
		ctx.fillStyle = <span class="literal">"rgb(0,0,200)"</span>;
		ctx.arc(xi,yi,3,0,2.0*Math.PI,true);
		ctx.fill();
		
		updateZoom(ev);

		<span class="reserved">if</span> (axesN == axesNmax)
		{
				axesPicked = 1;
				
				removeMouseEvent(<span class="literal">'click'</span>,pickCorners,true);
				
				<span class="reserved">if</span> (plotType == <span class="literal">'XY'</span>)
				{
					showPopup(<span class="literal">'xyRangeForm'</span>);
				}
				<span class="reserved">else</span> <span class="reserved">if</span> (plotType == <span class="literal">'polar'</span>)
				{
				}
				<span class="reserved">else</span> <span class="reserved">if</span> (plotType == <span class="literal">'ternary'</span>)
				{
				}

				redrawCanvas();
		}
	}
	
}


<span class="reserved">function</span> setXYRange() <span class="comment">// set the X-Y data range.</span>
{
	var xminEl = document.getElementById(<span class="literal">'xmin'</span>);
	var xmaxEl = document.getElementById(<span class="literal">'xmax'</span>);
	var yminEl = document.getElementById(<span class="literal">'ymin'</span>);
	var ymaxEl = document.getElementById(<span class="literal">'ymax'</span>);
    <span class="comment">// var xlogEl = document.getElementById('xlog');</span>
	<span class="comment">// var ylogEl = document.getElementById('ylog');</span>
	
	xmin = parseFloat(xminEl.value);
	xmax = parseFloat(xmaxEl.value);
	ymin = parseFloat(yminEl.value);
	ymax = parseFloat(ymaxEl.value);
    <span class="comment">//  xlog = xlogEl.checked;</span>
	<span class="comment">//  ylog = ylogEl.checked;</span>
	<span class="comment">//</span>
	closePopup(<span class="literal">'xyRangeForm'</span>);
}

<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains autodetections functions */</span>

<span class="comment">/* Autodetection variables */</span>
var fg_color = [0,0,0];
var bg_color = [255,255,255];
var colorPickerMode = <span class="literal">'fg'</span>;

var boxCoordinates = [0,0,1,1];
var drawingBox = false;
var drawingPen = false;
var drawingEraser = false;

<span class="reserved">function</span> pickColor(cmode)
{
	colorPickerMode = cmode;
	removeAllMouseEvents();
	addMouseEvent(<span class="literal">'click'</span>,colorPicker,true);
}

<span class="reserved">function</span> colorPicker(ev)
{
	xi = ev.layerX;
	yi = ev.layerY;
	
	iData = ctx.getImageData(cx0,cy0,currentImageWidth,currentImageHeight);
	<span class="reserved">if</span> ((xi &lt; currentImageWidth+cx0) &amp;&amp; (yi &lt; currentImageHeight+cy0) &amp;&amp; (xi &gt; cx0) &amp;&amp; (yi &gt; cy0))
	{
		ii = xi - cx0;
		jj = yi - cy0;

		var index = jj*4*currentImageWidth + ii*4;
		var PickedColor = [iData.data[index], iData.data[index+1], iData.data[index+2]];
		alert(PickedColor);
		canvas.removeEventListener(<span class="literal">'click'</span>,colorPicker,true);
		<span class="reserved">if</span>(colorPickerMode == <span class="literal">'fg'</span>)
		{
			fg_color = PickedColor;
			var fgbtn = document.getElementById(<span class="literal">'autoFGBtn'</span>);
			fgbtn.style.borderColor = <span class="literal">"rgb("</span> + fg_color[0] +<span class="literal">","</span> + fg_color[1] +<span class="literal">","</span> + fg_color[2] +<span class="literal">")"</span>;
		}
		<span class="reserved">else</span> <span class="reserved">if</span> (colorPickerMode == <span class="literal">'bg'</span>)
		{
			bg_color = PickedColor;
			var bgbtn = document.getElementById(<span class="literal">'autoBGBtn'</span>);
			bgbtn.style.borderColor = <span class="literal">"rgb("</span> + bg_color[0] +<span class="literal">","</span> + bg_color[1] +<span class="literal">","</span> + bg_color[2] +<span class="literal">")"</span>;
		}
	}	
}

<span class="reserved">function</span> boxPaint()
{
	removeAllMouseEvents();
	addMouseEvent(<span class="literal">'mousedown'</span>,boxPaintMousedown,true);
	addMouseEvent(<span class="literal">'mouseup'</span>,boxPaintMouseup,true);
	addMouseEvent(<span class="literal">'mousemove'</span>,boxPaintMousedrag,true);

}

<span class="reserved">function</span> boxPaintMousedown(ev)
{
	boxCoordinates[0] = parseInt(ev.layerX);
	boxCoordinates[1] = parseInt(ev.layerY);
	drawingBox = true;
}

<span class="reserved">function</span> boxPaintMouseup(ev)
{
	boxCoordinates[2] = parseInt(ev.layerX);
	boxCoordinates[3] = parseInt(ev.layerY);

	putCanvasData(markedScreen);

	ctx.fillStyle = <span class="literal">"rgba(255,255,0,1)"</span>;
	ctx.fillRect(boxCoordinates[0], boxCoordinates[1], boxCoordinates[2]-boxCoordinates[0], boxCoordinates[3]-boxCoordinates[1]);
	markedScreen = getCanvasData();

	drawingBox = false;
}

<span class="reserved">function</span> boxPaintMousedrag(ev)
{
	<span class="reserved">if</span>(drawingBox == true)
	{
		xt = parseInt(ev.layerX);
		yt = parseInt(ev.layerY);
		
		putCanvasData(markedScreen);
		ctx.strokeStyle = <span class="literal">"rgb(0,0,0)"</span>;
		ctx.strokeRect(boxCoordinates[0], boxCoordinates[1], xt-boxCoordinates[0], yt-boxCoordinates[1]);
	}
}

<span class="reserved">function</span> penPaint()
{
	removeAllMouseEvents();
	showToolbar(<span class="literal">'paintToolbar'</span>);
	addMouseEvent(<span class="literal">'mousedown'</span>,penPaintMousedown,true);
	addMouseEvent(<span class="literal">'mouseup'</span>,penPaintMouseup,true);
	addMouseEvent(<span class="literal">'mousemove'</span>,penPaintMousedrag,true);

}

<span class="reserved">function</span> penPaintMousedown(ev)
{
	<span class="reserved">if</span> (drawingPen == false)
	{
	    xt = parseInt(ev.layerX);
	    yt = parseInt(ev.layerY);
	    drawingPen = true;
	    ctx.strokeStyle = <span class="literal">"rgba(255,255,0,1)"</span>;
	    
	    thkRange = document.getElementById(<span class="literal">'paintThickness'</span>);
	    
	    ctx.lineWidth = parseInt(thkRange.value);
	    ctx.beginPath();
	    ctx.moveTo(xt,yt);
	}
}

<span class="reserved">function</span> penPaintMouseup(ev)
{
    ctx.closePath();
    ctx.lineWidth = 1;
    drawingPen = false;
    markedScreen = getCanvasData();
}

<span class="reserved">function</span> penPaintMousedrag(ev)
{
    <span class="reserved">if</span>(drawingPen == true)
    {
	xt = parseInt(ev.layerX);
	yt = parseInt(ev.layerY);
	ctx.strokeStyle = <span class="literal">"rgba(255,255,0,1)"</span>;
	ctx.lineTo(xt,yt);
	ctx.stroke();
    }
}


<span class="reserved">function</span> eraser()
{
	removeAllMouseEvents();
	showToolbar(<span class="literal">'paintToolbar'</span>);
	addMouseEvent(<span class="literal">'mousedown'</span>,eraserMousedown,true);
	addMouseEvent(<span class="literal">'mouseup'</span>,eraserMouseup,true);
	addMouseEvent(<span class="literal">'mousemove'</span>,eraserMousedrag,true);
	instantScreen = markedScreen;
}

<span class="reserved">function</span> eraserMousedown(ev)
{
    <span class="reserved">if</span>(drawingEraser == false)
    {
	xt = parseInt(ev.layerX);
	yt = parseInt(ev.layerY);
	drawingEraser = true;
	ctx.strokeStyle = <span class="literal">"rgba(255,0,255,1)"</span>;
	
	thkRange = document.getElementById(<span class="literal">'paintThickness'</span>);
	
	ctx.lineWidth = parseInt(thkRange.value);
	ctx.beginPath();
	ctx.moveTo(xt,yt);
    }
}

<span class="reserved">function</span> eraserMouseup(ev)
{
    ctx.closePath();
    ctx.lineWidth = 1;
    drawingEraser = false;
    processingNote(true);
    
    instantScreen = getCanvasData();
    var diffM = findDifference(instantScreen, markedScreen);
    markedScreen = copyUsingDifference(markedScreen, currentScreen, diffM);
    putCanvasData(markedScreen);
    
    processingNote(false);
}

<span class="reserved">function</span> eraserMousedrag(ev)
{
    <span class="reserved">if</span>(drawingEraser == true)
    {
	xt = parseInt(ev.layerX);
	yt = parseInt(ev.layerY);
	ctx.strokeStyle = <span class="literal">"rgba(255,0,255,1)"</span>;
	ctx.lineTo(xt,yt);
	ctx.stroke();
    }
}



<span class="reserved">function</span> autodetectCurves()
{
}

<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains canvas drawing functions */</span>

<span class="comment">/* Main Canvas Variables */</span>
var canvas; <span class="comment">// holds the canvas element</span>
var cx0; <span class="comment">// x-location where plot image is drawn</span>
var cy0; <span class="comment">// y-location where plot image is drawn</span>
var canvasWidth; <span class="comment">// Actual canvas width</span>
var canvasHeight; <span class="comment">// Actual canvas height</span>
var cwidth; <span class="comment">// Available canvas width</span>
var cheight; <span class="comment">// Available canvas height</span>
var caspectratio; <span class="comment">// Aspect ratio of the image</span>
var currentImage; <span class="comment">// current full plot image element</span>
var originalImage;
var currentImageHeight; 
var currentImageWidth;
var currentImageData; <span class="comment">// data from getImageData</span>
var ctx; 

<span class="comment">// Different canvas states. They are all of type ImageData</span>
var originalScreen;
var markedScreen;
var currentScreen;
var instantScreen;


<span class="reserved">function</span> loadImage(imgel)
{
	var sheight = parseInt(imgel.height);
	var swidth = parseInt(imgel.width);
	var iar = sheight/swidth;
	
	var newHeight = sheight;
	var newWidth = swidth;
		
	<span class="reserved">if</span> (iar &gt; caspectratio)
	{
		newHeight = cheight;
		newWidth = cheight/iar;
	}
	<span class="reserved">else</span>
	{
		newWidth = cwidth;
		newHeight = cwidth*iar;
	}
	
	currentImage = imgel;
	currentImageHeight = parseInt(newHeight);
	currentImageWidth = parseInt(newWidth);
			
	ctx.fillStyle = <span class="literal">"rgb(255,255,255)"</span>;
	ctx.fillRect(0, 0, canvasWidth, canvasHeight);
	ctx.drawImage(imgel,cx0,cy0,newWidth,newHeight); 
	
	currentScreen = getCanvasData();
}

<span class="reserved">function</span> saveCanvasImage()
{
	var nimagedata = ctx.getImageData(cx0,cy0,currentImageWidth,currentImageHeight);
	var tCanvas = document.createElement(<span class="literal">'canvas'</span>);
	
	tCanvas.width = currentImageWidth;
	tCanvas.height=  currentImageHeight;

	tCanvasContext = tCanvas.getContext(<span class="literal">'2d'</span>);
	tCanvasContext.putImageData(nimagedata,0,0);

	newImage = new Image();
	newImage.src = tCanvas.toDataURL();
	newImage.onload = <span class="reserved">function</span>() { currentImage = newImage; currentScreen = getCanvasData(); }
}

<span class="reserved">function</span> getCanvasData()
{
	var cImgData = ctx.getImageData(0,0,canvasWidth,canvasHeight);
	<span class="reserved">return</span> cImgData;
}

<span class="reserved">function</span> putCanvasData(cImgData)
{
	canvas.width = canvas.width;
	ctx.putImageData(cImgData,0,0);
}

<span class="reserved">function</span> reloadPlot()
{
	canvas.width = canvas.width; <span class="comment">// resets canvas.</span>
	ctx.drawImage(currentImage, cx0, cy0, currentImageWidth, currentImageHeight); <span class="comment">// redraw image.</span>
}

<span class="reserved">function</span> redrawCanvas()
{
	canvas.width = canvas.width;
	putCanvasData(currentScreen);
}

<span class="reserved">function</span> dropHandler(ev)
{
	allDrop = ev.dataTransfer.files;
	<span class="reserved">if</span> (allDrop.length == 1) <span class="comment">// :TODO: also check if it's a valid image</span>
	{
		var droppedFile = new FileReader();
		droppedFile.onload = <span class="reserved">function</span>() {
			var imageInfo = droppedFile.result;
			var newimg = new Image();
			newimg.onload = <span class="reserved">function</span>() { loadImage(newimg); originalScreen = getCanvasData(); }
			newimg.src = imageInfo;
		}
		droppedFile.readAsDataURL(allDrop[0]);
	}
}

<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains function to generate CSV */</span>

<span class="reserved">function</span> saveData() <span class="comment">// generate the .CSV file</span>
{
		<span class="comment">// check if everything was specified</span>
		<span class="comment">// transform to proper numbers</span>
		<span class="comment">// save data as CSV.</span>
		<span class="reserved">if</span>(axesPicked ==1 &amp;&amp; pointsPicked &gt;= 1) 
		{
			showPopup(<span class="literal">'csvWindow'</span>);
			tarea = document.getElementById(<span class="literal">'tarea'</span>);
			tarea.value = <span class="literal">''</span>;
			
			<span class="comment">// :TODO: Move data transformation to pickPoints() function so that it's done on the fly.</span>
			
			x1 = xyAxes[1][0] - xyAxes[0][0];
			y1 = -(xyAxes[1][1] - xyAxes[0][1]) ;

			x3 = xyAxes[3][0] - xyAxes[0][0];
			y3 = -(xyAxes[3][1] - xyAxes[0][1]);

			xm = xmax - xmin;
			ym = ymax - ymin;
			
			det = x1*y3 - y1*x3;

			x0 = xmin;
			y0 = ymin;

			<span class="reserved">for</span>(ii = 0; ii&lt;pointsPicked; ii++)
			{
					xr = xyData[ii][0] - xyAxes[0][0];
					yr = - (xyData[ii][1] - xyAxes[0][1]);
					<span class="comment">// find the transform</span>
					xf = (-y1*xm*xr + x1*xm*yr)/det + x0;
					yf = (y3*ym*xr - x3*ym*yr)/det + y0;

					tarea.value = tarea.value + xf + <span class="literal">','</span> + yf + <span class="literal">'\n'</span>;
			}
		}
}



<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains functions to handle image editing functions */</span>


var cropStatus = 0;
var cropCoordinates = [0,0,0,0];


<span class="reserved">function</span> hflip()
{
	processingNote(true);

	var iData = ctx.getImageData(cx0,cy0,currentImageWidth,currentImageHeight);

	<span class="reserved">for</span> (var rowi = 0; rowi &lt; currentImageHeight; rowi++)
	{
		<span class="reserved">for</span>(var coli = 0; coli &lt; currentImageWidth/2; coli++)
		{
			var index = rowi*4*currentImageWidth + coli*4;
			var mindex = (rowi+1)*4*currentImageWidth - (coli+1)*4;
			<span class="reserved">for</span>(var p = 0; p &lt; 4; p++)
			{
				var tt = iData.data[index + p];
				iData.data[index + p] = iData.data[mindex + p];
				iData.data[mindex + p] = tt;
			}
		}
	}
	
	ctx.putImageData(iData,cx0,cy0);
	saveCanvasImage();

	processingNote(false);
}

<span class="reserved">function</span> vflip()
{
	processingNote(true);

	var iData = ctx.getImageData(cx0,cy0,currentImageWidth,currentImageHeight);

	<span class="reserved">for</span> (var coli = 0; coli &lt; currentImageWidth; coli++)
	{
		<span class="reserved">for</span>(var rowi = 0; rowi &lt; currentImageHeight/2; rowi++)
		{
			var index = rowi*4*currentImageWidth + coli*4;
			var mindex = (currentImageHeight - (rowi+2))*4*currentImageWidth + coli*4;
			<span class="reserved">for</span>(var p = 0; p &lt; 4; p++)
			{
				var tt = iData.data[index + p];
				iData.data[index + p] = iData.data[mindex + p];
				iData.data[mindex + p] = tt;
			}
		}
	}
	
	ctx.putImageData(iData,cx0,cy0);
	saveCanvasImage();

	processingNote(false);
}

<span class="reserved">function</span> cropPlot() <span class="comment">// crop image</span>
{
	redrawCanvas();
	removeAllMouseEvents();
	addMouseEvent(<span class="literal">'mousedown'</span>,cropMousedown,true);
	addMouseEvent(<span class="literal">'mouseup'</span>,cropMouseup,true);
	addMouseEvent(<span class="literal">'mousemove'</span>,cropMousemove,true);
}

<span class="reserved">function</span> cropMousedown(ev)
{
	cropCoordinates[0] = parseInt(ev.layerX);
	cropCoordinates[1] = parseInt(ev.layerY);
	cropStatus = 1;
}

<span class="reserved">function</span> cropMouseup(ev)
{
      cropCoordinates[2] = parseInt(ev.layerX);
      cropCoordinates[3] = parseInt(ev.layerY);
      cropStatus = 0;
      
      redrawCanvas();
      
      cropWidth = cropCoordinates[2]-cropCoordinates[0];
      cropHeight = cropCoordinates[3]-cropCoordinates[1];
      <span class="reserved">if</span> ((cropWidth &gt; 0) &amp;&amp; (cropHeight &gt; 0))
      {
		var tcan = document.createElement(<span class="literal">'canvas'</span>);
		var tcontext = tcan.getContext(<span class="literal">'2d'</span>);
		
		tcan.width = cropWidth;
		tcan.height = cropHeight;
		
		var cropImageData = ctx.getImageData(cropCoordinates[0],cropCoordinates[1],cropWidth,cropHeight);  
		
		tcontext.putImageData(cropImageData,0,0);
		cropSrc = tcan.toDataURL();
		cropImg = new Image();
		cropImg.src = cropSrc;
		cropImg.onload = <span class="reserved">function</span>() { loadImage(cropImg); }
      }
      
}

<span class="reserved">function</span> cropMousemove(ev)
{
      <span class="comment">// this paints a rectangle as the mouse moves</span>
      <span class="reserved">if</span>(cropStatus == 1)
      {
		redrawCanvas();
		ctx.strokeStyle = <span class="literal">"rgb(0,0,0)"</span>;
		ctx.strokeRect(cropCoordinates[0],cropCoordinates[1],parseInt(ev.layerX)-cropCoordinates[0],parseInt(ev.layerY)-cropCoordinates[1]);
      }
}

<span class="reserved">function</span> restoreOriginalImage()
{
	loadImage(originalImage);
}

<span class="reserved">function</span> rotateCanvas() <span class="comment">// Rotate by a specified amount.</span>
{
}

<span class="comment">/*
    WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

    Version 2.0

    Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

    This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains image processing functions */</span>


<span class="comment">/* Finds differences between two sets of ImageData and returns a difference matrix
 * The difference matrix is zero for similar pixels, but 1 where pixels don't match
 * 
 * The height and width of the data is assumed to be that of the canvas.
 */</span>
<span class="reserved">function</span> findDifference(d1,d2)
{
    var dw = canvasWidth;
    var dh = canvasHeight;
    var diff = new Array();
    
    <span class="reserved">for</span> (var rowi = 0; rowi &lt; dh; rowi++)
    {
	diff[rowi] = new Array();
	<span class="reserved">for</span>(var coli = 0; coli &lt; dw; coli++)
	{
	    var index = rowi*4*dw + coli*4;
	    diff[rowi][coli] = false;
	    
	    <span class="reserved">for</span>(var p = 0; p &lt; 4; p++)
	    {
		<span class="reserved">if</span> (d1.data[index+p] != d2.data[index+p])
		{
		    diff[rowi][coli] = true;
		}
	    }
	    
	}
    }
    
    <span class="reserved">return</span> diff;
}

<span class="comment">/* Copies pixels based on the difference matrix. */</span>
<span class="reserved">function</span> copyUsingDifference(copyTo, copyFrom, diff)
{
    var dw = canvasWidth;
    var dh = canvasHeight;
    
    <span class="reserved">for</span> (var rowi = 0; rowi &lt; dh; rowi++)
    {
	<span class="reserved">for</span>(var coli = 0; coli &lt; dw; coli++)
	{
	    var index = rowi*4*dw + coli*4;
		    
	    <span class="reserved">if</span> (diff[rowi][coli] == true)
	   	<span class="reserved">for</span>(var p = 0; p &lt; 4; p++)
		    copyTo.data[index+p] = copyFrom.data[index+p];
		       
	}
    }
    
    <span class="reserved">return</span> copyTo;
}

<span class="comment">// create BW image based on the colors specified.</span>
<span class="reserved">function</span> colorSelect(imgd, mode, colorRGB, tol)
{
    dw = canvasWidth;
    dh = canvasHeight;
    
    redv = colorRGB[0];
    greenv = colorRGB[1];
    bluev = colorRGB[2];
    
    var seldata = new Array();
    
    <span class="reserved">for</span> (var rowi; rowi &lt; dh; rowi++)
    {
	seldata[rowi] = new Array();
	<span class="reserved">for</span>(var coli; coli &lt; dw; coli++)
	{
	    index = rowi*4*dw + coli*4;
	    ir = imgd.data[index];
	    ig = imgd.data[index+1];
	    ib = imgd.data[index+2];
	    
	    dist = Math.sqrt((ir-redv)*(ir-redv) + (ig-greenv)*(ig-greenv) + (ib+bluev)*(ib+bluev));
	    
	    seldata[rowi][coli] = false;
	    
	    <span class="reserved">if</span> (mode == <span class="literal">'fg'</span>)
	    {
		<span class="reserved">if</span> (dist &lt;= tol)
		{
		    seldata[rowi][coli] = true;
		}
	    }
	    <span class="reserved">else</span> <span class="reserved">if</span> (mode == <span class="literal">'bg'</span>)
	    {
		<span class="reserved">if</span> (dist &gt; tol)
		{
		    seldata[rowi][coli] = true;
		}
	    }
	}
    }
    
    <span class="reserved">return</span> seldata;
}

<span class="comment">// create BW image based on the colors but only in valid region of difference matrix.</span>
<span class="reserved">function</span> colorSelectDiff(imgd, mode, colorRGB, tol, diff)
{
    dw = canvasWidth;
    dh = canvasHeight;
    
    redv = colorRGB[0];
    greenv = colorRGB[1];
    bluev = colorRGB[2];
    
    var seldata = new Array();
    
    <span class="reserved">for</span> (var rowi; rowi &lt; dh; rowi++)
    {
	seldata[rowi] = new Array();
	<span class="reserved">for</span>(var coli; coli &lt; dw; coli++)
	{
	    index = rowi*4*dw + coli*4;
	    ir = imgd.data[index];
	    ig = imgd.data[index+1];
	    ib = imgd.data[index+2];
	    
	    dist = Math.sqrt((ir-redv)*(ir-redv) + (ig-greenv)*(ig-greenv) + (ib+bluev)*(ib+bluev));
	    
	    seldata[rowi][coli] = false;
	    
	    <span class="reserved">if</span> ((mode == <span class="literal">'fg'</span>) &amp;&amp; (diff[rowi][coli] == 1))
	    {
		<span class="reserved">if</span> (dist &lt;= tol)
		{
		    seldata[rowi][coli] = true;
		}
	    }
	    <span class="reserved">else</span> <span class="reserved">if</span> ((mode == <span class="literal">'bg'</span>) &amp;&amp; (diff[rowi][coli] == 1))
	    {
		<span class="reserved">if</span> (dist &gt; tol)
		{
		    seldata[rowi][coli] = true;
		}
	    }
	}
    }
    
    <span class="reserved">return</span> seldata;
}

<span class="reserved">function</span> binaryToImageData(bwdata,imgd)
{
    dw = canvasWidth;
    dh = canvasHeight;
         
    <span class="reserved">for</span>(var rowi = 0; rowi &lt; dh; rowi++)
    {
	<span class="reserved">for</span>(var coli = 0; coli &lt; dw; coli++)
	{
	    index = rowi*4*dw + coli*4;
	    <span class="reserved">if</span> (bwdata[rowi][coli] == true)
	    {
		imgd.data[index] = 255; imgd.data[index+1] = 255; imgd.data[index+2] = 255; imgd.data[index+3] = 1;
	    }
	    <span class="reserved">else</span>
	    {
		imgd.data[index] = 0; imgd.data[index+1] = 0; imgd.data[index+2] = 0; imgd.data[index+3] = 1;
	    }
	}
    }
    
    <span class="reserved">return</span> imgd;
}

<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotdigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDIgitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/**
 * <span class="attrib">@fileoverview</span> This is the main entry point
 * <span class="attrib">@version</span> 2.0
 * <span class="attrib">@author</span> Ankit Rohatgi ankitrohatgi<span class="attrib">@hotmail</span>.com
 */</span>


<span class="comment">/**
 * This is the entry point and is executed when the page is loaded.
 */</span>

<span class="reserved">function</span> init() <span class="comment">// This is run when the page loads.</span>
{
	canvas = document.getElementById(<span class="literal">'mainCanvas'</span>);
	var canvasDiv = document.getElementById(<span class="literal">'canvasDiv'</span>);
		
	zCanvas = document.getElementById(<span class="literal">'zoomCanvas'</span>);
	zctx = zCanvas.getContext(<span class="literal">'2d'</span>);

	tempCanvas = document.createElement(<span class="literal">'canvas'</span>);
	tctx = tempCanvas.getContext(<span class="literal">'2d'</span>);
	tempCanvas.width = zoom_dx;
	tempCanvas.height = zoom_dy;

	<span class="comment">// Position to paste new plots at</span>
	cx0 = zoom_dx/2;
	cy0 = zoom_dy/2;

	<span class="comment">// Set canvas dimensions</span>
	canvasWidth = parseFloat(canvasDiv.offsetWidth);
	canvasHeight = parseFloat(canvasDiv.offsetHeight);
	
	<span class="comment">// resize canvas.</span>
	canvas.height = canvasHeight;
	canvas.width = canvasWidth;

	<span class="comment">// Needed to fix the zoom problem.</span>
	cheight = canvasHeight - zoom_dy;
	cwidth = canvasWidth - zoom_dx;

	caspectratio = cheight/cwidth;

	ctx = canvas.getContext(<span class="literal">'2d'</span>);

	<span class="comment">// Set canvas default state</span>
	img = new Image();
	img.onload = <span class="reserved">function</span>() { loadImage(img); originalImage = img; }
	img.src = <span class="literal">"start.png"</span>;
	
	<span class="comment">// specify mouseover function</span>
	<span class="comment">//canvas.addEventListener('click',clickHandler,false);</span>
	canvas.addEventListener(<span class="literal">'mousemove'</span>,updateZoom,false);

	<span class="comment">// Image dropping capabilities</span>
	canvas.addEventListener(<span class="literal">'dragover'</span>,<span class="reserved">function</span>(event) {event.preventDefault();}, true);
	canvas.addEventListener(<span class="literal">"drop"</span>,<span class="reserved">function</span>(event) {event.preventDefault(); dropHandler(event);},true);
	
	<span class="comment">// Set defaults everywhere.</span>
	setDefaultState();
	
	originalScreen = getCanvasData();
	activeScreen = originalScreen;

}


<span class="comment">/**
 * Reset canvas and zoom window to initial state.
 */</span>
<span class="reserved">function</span> setDefaultState()
{
	axesPicked = 0;
	
	<span class="comment">// :TODO: Move all this to zoomInit() or something</span>
	zctx.beginPath();
	zctx.moveTo(zWindowWidth/2, 0);
	zctx.lineTo(zWindowWidth/2, zWindowHeight);
	zctx.moveTo(0, zWindowHeight/2);
	zctx.lineTo(zWindowWidth, zWindowHeight/2);
	zctx.stroke();
}


<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains manual data collection functions */</span>

<span class="comment">/* Selected Data Variables */</span>
var xyData; <span class="comment">// Raw data</span>
var pointsPicked; <span class="comment">// number of data points picked.</span>

<span class="reserved">function</span> acquireData()
{
	<span class="reserved">if</span>(axesPicked == 0)
	{
		showPopup(<span class="literal">'alignAxes'</span>);
	}
	<span class="reserved">else</span>
	{
		showSidebar(<span class="literal">'manualMode'</span>);
		markedScreen = getCanvasData();
		removeAllMouseEvents();
	}
}

<span class="reserved">function</span> pickPoints() <span class="comment">// select data points.</span>
{
	<span class="reserved">if</span> (axesPicked == 0)
	{
		alert(<span class="literal">'Define the axes first!'</span>);
	}
	<span class="reserved">else</span>
	{
		removeAllMouseEvents();
		addMouseEvent(<span class="literal">'click'</span>,clickPoints,true);
		pointsPicked = 0;
		xyData = [];
		pointsStatus(pointsPicked);
		redrawCanvas();
		showSidebar(<span class="literal">'manualMode'</span>);
	}
}

<span class="reserved">function</span> clickPoints(ev)
{
	xi = ev.layerX;
	yi = ev.layerY;
	xyData[pointsPicked] = new Array();
	xyData[pointsPicked][0] = parseFloat(xi);
	xyData[pointsPicked][1] = parseFloat(yi);
	pointsPicked = pointsPicked + 1;	

	ctx.beginPath();
	ctx.fillStyle = <span class="literal">"rgb(200,0,0)"</span>;
	ctx.arc(xi,yi,3,0,2.0*Math.PI,true);
	ctx.fill();

	pointsStatus(pointsPicked);
	updateZoom(ev);

}


<span class="reserved">function</span> clearPoints() <span class="comment">// clear all markings.</span>
{
	pointsPicked = 0;
	pointsStatus(pointsPicked);
	redrawCanvas();
	removeAllMouseEvents();
}

<span class="reserved">function</span> undoPointSelection()
{
	<span class="reserved">if</span> (pointsPicked &gt;= 1)
	{
		pointsPicked = pointsPicked - 1;
		pointsStatus(pointsPicked);
		
		redrawCanvas();

		<span class="reserved">for</span>(ii = 0; ii &lt; pointsPicked; ii++)
		{
			xi = xyData[ii][0];	
			yi = xyData[ii][1];

			ctx.beginPath();
			ctx.fillStyle = <span class="literal">"rgb(200,0,0)"</span>;
			ctx.arc(xi,yi,3,0,2.0*Math.PI,true);
			ctx.fill();
		}

	}
}

<span class="reserved">function</span> pointsStatus(pn) <span class="comment">// displays the number of points picked.</span>
{
	var points = document.getElementById(<span class="literal">'pointsStatus'</span>);
	points.innerHTML = pn;
}

<span class="reserved">function</span> deleteSpecificPoint()
{
	removeAllMouseEvents();
	addMouseEvent(<span class="literal">'click'</span>,deleteSpecificPointHandler,true);
}

<span class="reserved">function</span> deleteSpecificPointHandler(ev)
{
	xi = parseFloat(ev.layerX);
	yi = parseFloat(ev.layerY);
	
	var minDistance = 10.0;
	var foundPoint = 0;
	var foundIndex = 0;

	<span class="reserved">for</span> (var ii = 0; ii &lt; pointsPicked; ii ++)
	{
		var xd = parseFloat(xyData[ii][0]);
		var yd = parseFloat(xyData[ii][1]);
		var distance = Math.sqrt((xd-xi)*(xd-xi) + (yd-yi)*(yd-yi));

		<span class="reserved">if</span> (distance &lt; minDistance)
		{
			foundPoint = 1;
			foundIndex = ii;
		}
	}

	<span class="reserved">if</span> (foundPoint == 1)
	{
		xyData.splice(foundIndex,1);

		pointsPicked = pointsPicked - 1;
		pointsStatus(pointsPicked);
			
		redrawCanvas();

		<span class="reserved">for</span>(ii = 0; ii &lt; pointsPicked; ii++)
		{
			xp = xyData[ii][0];	
			yp = xyData[ii][1];
			ctx.beginPath();
			ctx.fillStyle = <span class="literal">"rgb(200,0,0)"</span>;
			ctx.arc(xp,yp,3,0,2.0*Math.PI,true);
			ctx.fill();
		}
	}

	updateZoom(ev);

}
<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains math functions */</span>

<span class="reserved">function</span> matrixInverse22(A) <span class="comment">// Inverse of a 2x2 matrix</span>
{
  a11 = parseFloat(A[0][0]);
  a12 = parseFloat(A[0][1]);
  a21 = parseFloat(A[1][0]);
  a22 = parseFloat(A[1][1]);
  
  var Ai = new Array();
  Ai[0] = new Array();
  Ai[0][0] = 0.0; Ai[0][1] = 0.0; Ai[1][0] = 0.0; Ai[1][1] = 0.0; 
  
  det = a11*a22 - a12*a21;
  
  <span class="reserved">if</span> (det != 0)
  {
    Ai[0][0] = a22/det;
    Ai[0][1] = -a12/det;
    Ai[1][0] = -a21/det;
    Ai[1][1] = a22/det;
  }
  
  <span class="reserved">return</span> Ai;
}

<span class="reserved">function</span> multiplyAB(A,r1,c1,B,r2,c2) <span class="comment">// Multiply two matrices</span>
{
  var P = new Array();
  
  var sumrow = 0;
  
  <span class="reserved">if</span>(c1 == r2)
  {
    <span class="reserved">for</span> (var ii = 0; ii &lt; r1; ii++)
    {
      P[ii] = new Array();
      <span class="reserved">for</span>(var jj = 0; jj &lt; c2; jj++)
      {
	 P[ii][jj] = 0.0;
	 <span class="reserved">for</span>(var kk = 0; kk &lt; c1; kk++)
	 {
	    P[ii][jj] = P[ii][jj] + parseFloat(A[ii][kk])*parseFloat(B[kk][jj]); <span class="comment">// P_ij = A_ik.B_kj in index notation.</span>
	 }
      }
    }
  }
  
  <span class="reserved">return</span> P;
}

<span class="comment">// :TODO: Array and Vector multiplication functions.</span>

<span class="reserved">function</span> sortMatrix(A,sc) <span class="comment">// sort matrix A by column sc</span>
{
}

<span class="reserved">function</span> pixelToData(pxData)
{
}

<span class="reserved">function</span> dataToPixel(pdata)
{
}
<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>


<span class="comment">/**
 * <span class="attrib">@fileoverview</span> This file contains the mouse event handling methods.
 * <span class="attrib">@version</span> 2.0
 * <span class="attrib">@author</span> Ankit Rohatgi
 */</span>

<span class="comment">/**
 * List of mouse event types.
 */</span>
var mouseEventType = new Array();

<span class="comment">/**
 * List of mouse event functions.
 */</span>
var mouseEventFunction = new Array();

<span class="comment">/**
 * To capture or not.
 */</span>
var mouseEventCapture = new Array();

<span class="comment">/**
 * Total number of active mouse events.
 */</span>
var mouseEvents = 0;


<span class="comment">/**
 * Add a mouse event.
 * <span class="attrib">@param</span> {String} mouseEv Type of mouse event.
 * <span class="attrib">@param</span> {function} functionName Name of the method associated 
 * <span class="attrib">@param</span> {boolean} tf Capture value.
 */</span>
<span class="reserved">function</span> addMouseEvent(mouseEv, functionName, tf)
{
	var eventExists = false;
	<span class="reserved">for</span>(var ii = 0; ii &lt; mouseEvents; ii++)
	{
		<span class="reserved">if</span> ((mouseEv == mouseEventType[ii]) &amp;&amp; (functionName == mouseEventFunction[ii]) &amp;&amp; (tf == mouseEventCapture[ii]))
		eventExists = true;
	}

	<span class="reserved">if</span>(eventExists == false)
	{
		canvas.addEventListener(mouseEv, functionName, tf);
		mouseEventType[mouseEvents] = mouseEv;
		mouseEventFunction[mouseEvents] = functionName;
		mouseEventCapture[mouseEvents] = tf;
		mouseEvents = mouseEvents + 1;
	}
}

<span class="comment">/**
 * Clear the entire list of active mouse events.
 */</span>
<span class="reserved">function</span> removeAllMouseEvents()
{
	<span class="reserved">if</span>(mouseEvents &gt; 0)
	{
		<span class="reserved">for</span> (var kk = 0; kk &lt; mouseEvents; kk++)
		{
			canvas.removeEventListener(mouseEventType[kk],mouseEventFunction[kk],mouseEventCapture[kk]);
		}
		mouseEvents = 0;
		mouseEventType = [];
		moueEventFunction = [];
		mouseEventCapture = [];
	}
	clearToolbar();
}

<span class="comment">/**
 * Remove a particular mouse event.
 * <span class="attrib">@param</span> {String} mouseEv Type of mouse event.
 * <span class="attrib">@param</span> {function} functionName Name of the method associated 
 * <span class="attrib">@param</span> {boolean} tf Capture value.
 */</span>
<span class="reserved">function</span> removeMouseEvent(mouseEv, functionName, tf)
{
	var eventExists = false;
	var eventIndex = 0;

	<span class="reserved">for</span>(var ii = 0; ii &lt; mouseEvents; ii++)
	{
		<span class="reserved">if</span> ((mouseEv == mouseEventType[ii]) &amp;&amp; (functionName == mouseEventFunction[ii]) &amp;&amp; (tf == mouseEventCapture[ii]))
		{
			eventExists = true;
			eventIndex = ii;
		}
	}
	<span class="reserved">if</span>(eventExists == true)
	{
		canvas.removeEventListener(mouseEv, functionName, tf);
		mouseEvents = mouseEvents - 1;
		mouseEventType.splice(eventIndex,1);
		mouseEventFunction.splice(eventIndex,1);
		mouseEventCapture.splice(eventIndex,1);
	}
}


<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/**
 * <span class="attrib">@fileoverview</span> Methods to handle popup windows.
 * <span class="attrib">@version</span> 2.0
 * <span class="attrib">@author</span> Ankit Rohatgi
 */</span>

<span class="comment">/**
 * Display a popup window.
 * <span class="attrib">@param</span> {String} popupid ID of the DIV element containing the popup block.
 */</span>
<span class="reserved">function</span> showPopup(popupid)
{
	<span class="comment">// Dim lights :)</span>
	var shadowDiv = document.getElementById(<span class="literal">'shadow'</span>);
	shadowDiv.style.visibility = <span class="literal">"visible"</span>;

	var pWindow = document.getElementById(popupid);
	var screenWidth = parseInt(window.innerWidth);
	var screenHeight = parseInt(window.innerHeight);
	var pWidth = parseInt(pWindow.offsetWidth);
	var pHeight = parseInt(pWindow.offsetHeight);
	var xPos = (screenWidth - pWidth)/2;
	var yPos = (screenHeight - pHeight)/2;
	pWindow.style.left = xPos + <span class="literal">'px'</span>;
	pWindow.style.top = yPos + <span class="literal">'px'</span>;
	pWindow.style.visibility = <span class="literal">"visible"</span>;
}

<span class="comment">/**
 * Hide a popup window.
 * <span class="attrib">@param</span> {String} popupid ID of the DIV element containing the popup block.
 */</span>
<span class="reserved">function</span> closePopup(popupid)
{
	var shadowDiv = document.getElementById(<span class="literal">'shadow'</span>);
	shadowDiv.style.visibility = <span class="literal">"hidden"</span>;

	var pWindow = document.getElementById(popupid);
	pWindow.style.visibility = <span class="literal">"hidden"</span>;

}

<span class="comment">/**
 * Show a 'processing' note on the top right corner.
 * <span class="attrib">@param</span> {boolean} pmode set to 'true' to diplay, 'false' to hide.
 */</span>
<span class="reserved">function</span> processingNote(pmode)
{
	var pelem = document.getElementById(<span class="literal">'wait'</span>);

	<span class="reserved">if</span>(pmode == true)
	{
		pelem.style.visibility = <span class="literal">'visible'</span>;
	}
	<span class="reserved">else</span>
	{
		pelem.style.visibility = <span class="literal">'hidden'</span>;
	}

}
<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>


<span class="comment">/* This file contains functions to handle sidebars */</span>

var sidebarList = [<span class="literal">'editImageToolbar'</span>,<span class="literal">'manualMode'</span>,<span class="literal">'autoMode'</span>]; 

<span class="reserved">function</span> showSidebar(sbid) <span class="comment">// Shows a specific sidebar</span>
{
	clearSidebar();
	var sb = document.getElementById(sbid);
	sb.style.visibility = <span class="literal">"visible"</span>;
}

<span class="reserved">function</span> clearSidebar() <span class="comment">// Clears all open sidebars</span>
{
      <span class="reserved">for</span> (ii = 0; ii &lt; sidebarList.length; ii ++)
      {
	  var sbv = document.getElementById(sidebarList[ii]);
	  sbv.style.visibility=<span class="literal">"hidden"</span>;
      }
	
}
<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains functions to handle toolbars */</span>

var toolbarList = [<span class="literal">'paintToolbar'</span>,<span class="literal">'colorPickerToolbar'</span>]; 

<span class="reserved">function</span> showToolbar(sbid) <span class="comment">// Shows a specific sidebar</span>
{
	clearToolbar();
	var sb = document.getElementById(sbid);
	sb.style.visibility = <span class="literal">"visible"</span>;
}

<span class="reserved">function</span> clearToolbar() <span class="comment">// Clears all open sidebars</span>
{
      <span class="reserved">for</span> (ii = 0; ii &lt; toolbarList.length; ii ++)
      {
	  var sbv = document.getElementById(toolbarList[ii]);
	  sbv.style.visibility=<span class="literal">"hidden"</span>;
      }
	
}
<span class="comment">/*
	WebPlotDigitizer - http://arohatgi.info/WebPlotDigitizer

	Version 2.0

	Copyright 2010 Ankit Rohatgi &lt;ankitrohatgi<span class="attrib">@hotmail</span>.com&gt;

	This file is part of WebPlotDigitizer.

    WebPlotDigitizer is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WebPlotDigitizer is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with WebPlotDigitizer.  If not, see &lt;http://www.gnu.org/licenses/&gt;.


*/</span>

<span class="comment">/* This file contains zoom window handling functions */</span>

<span class="comment">/* Zoomed-in view variables */</span>
var zCanvas; 
var zctx;
var tempCanvas;
var tctx;
var zoom_dx = 20;
var zoom_dy = 20;
var zWindowWidth = 200;
var zWindowHeight = 200;


<span class="reserved">function</span> updateZoom(ev)
{
	xpos = ev.layerX;
	ypos = ev.layerY;
	
	dx = zoom_dx;
	dy = zoom_dy;
    

	<span class="reserved">if</span>((xpos-dx/2) &gt;= 0 &amp;&amp; (ypos-dy/2) &gt;= 0 &amp;&amp; (xpos+dx/2) &lt;= canvasWidth &amp;&amp; (ypos+dy/2) &lt;= canvasHeight)
	{
		var zoomImage = ctx.getImageData(xpos-dx/2,ypos-dy/2,dx,dy);
	
		tctx.putImageData(zoomImage,0,0);
		var imgdata = tempCanvas.toDataURL();
		var zImage = new Image();
		zImage.onload = <span class="reserved">function</span>() 
			{ 
				zctx.drawImage(zImage,0,0,zWindowWidth,zWindowHeight); 
				zctx.beginPath();
				zctx.moveTo(zWindowWidth/2, 0);
				zctx.lineTo(zWindowWidth/2, zWindowHeight);
				zctx.moveTo(0, zWindowHeight/2);
				zctx.lineTo(zWindowWidth, zWindowHeight/2);
				zctx.stroke();

			}
		zImage.src = imgdata;
	}
}

</pre>
	<hr>



<!-- ========== START OF NAVBAR ========== -->
<a name="navbar_top"><!-- --></a>
<table border="0" width="100%" cellpadding="1" cellspacing="0">
<tr>
<td colspan=2 bgcolor="#EEEEFF" class="NavBarCell1">
<a name="navbar_top_firstrow"><!-- --></a>
<table border="0" cellpadding="0" cellspacing="3">
  <tr align="center" valign="top">
  
  
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-summary.html"><font class="NavBarFont1"><b>Overview</b></font></a>&nbsp;</td>
  <td bgcolor="#FFFFFF" class="NavBarCell1Rev">	&nbsp;<font class="NavBarFont1Rev"><b>File</b></font>&nbsp;</td>
  

  <td bgcolor="#FFFFFF" class="NavBarCell1"> <font class="NavBarFont1">Class</font>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="overview-tree.html"><font class="NavBarFont1"><b>Tree</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="index-all.html"--><font class="NavBarFont1"><b>Index</b></font></a>&nbsp;</td>
  <td bgcolor="#EEEEFF" class="NavBarCell1">    <a href="help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
  </tr>
</table>
</td>
<td bgcolor="#EEEEFF" align="right" valign="top"><em>
<b></b></em>
</td>
</tr>

<tr>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</font></td>
<td bgcolor="white" class="NavBarCell2"><font size="-2">
  <a href="index.html" target="_top"><b>FRAMES</b></a>  &nbsp;
&nbsp;<a href="overview-summary.html" target="_top"><b>NO FRAMES</b></a>
&nbsp;&nbsp;
<script>
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
<a href="allclasses-noframe.html" target=""><b>All Classes</b></a>
</noscript>
</font></td>
</tr>
</table>
<!-- =========== END OF NAVBAR =========== -->

<hr>
<font size="-1">

</font>
<div class="jsdoc_ctime">Documentation generated by <a href="http://jsdoc.sourceforge.net/" target="_parent">JSDoc</a> on Thu Feb  3 20:38:40 2011</div>
</body>
</html>
